(function(g){var window=this;'use strict';var $Ox=function(K){var X=bUz(K),Q=Math,p=Q.min;var U=K.J?Date.now()-K.J:0;Q=p.call(Q,U,X);Son(K,Math.ceil((X-Q)/1E3));X-Q<=500&&K.c6()?K.select(!0):K.c6()&&K.T.start()},NU=function(K){b5.call(this,K,"videowall-endscreen");
var X=this;this.D=K;this.J=0;this.stills=[];this.T=this.videoData=null;this.S=this.N=!1;this.W=null;this.j=new g.N3(this);g.k(this,this.j);this.L=new g.Bh(function(){g.xu(X.element,"ytp-show-tiles")},0);
g.k(this,this.L);var Q=new g.V({Z:"button",iq:["ytp-button","ytp-endscreen-previous"],Y:{"aria-label":"Previous"},U:[g.Dj()]});g.k(this,Q);Q.Sp(this.element);Q.listen("click",this.D1,this);this.table=new g.j3({Z:"div",G:"ytp-endscreen-content"});g.k(this,this.table);this.table.Sp(this.element);Q=new g.V({Z:"button",iq:["ytp-button","ytp-endscreen-next"],Y:{"aria-label":"Next"},U:[g.E9()]});g.k(this,Q);Q.Sp(this.element);Q.listen("click",this.g3,this);K.getVideoData().Ca?this.C=new SY(K,!0):this.C=
new $v(K);g.k(this,this.C);g.Do(this.player,this.C.element,4);K.createClientVe(this.element,this,158789);this.hide()},Nu9=function(K,X){K.BP("onAutonavCoundownStarted",X)},D9=function(K){var X=K.QP();
X!==K.N&&(K.N=X,DO3(K.player))},na2=function(K,X){X=X.getWatchNextResponse();
var Q,p;X=(Q=vaj(X))==null?void 0:(p=Q.nextButton)==null?void 0:p.buttonRenderer;K.S=X==null?void 0:X.navigationEndpoint;Q=X==null?void 0:X.trackingParams;K.playButton&&Q&&K.D.setTrackingParams(K.playButton.element,Q)},b5=function(K,X){g.V.call(this,{Z:"div",
iq:["html5-endscreen","ytp-player-content",X||"base-endscreen"]});this.created=!1;this.player=K},vaj=function(K){var X,Q,p;
return K==null?void 0:(X=K.playerOverlays)==null?void 0:(Q=X.playerOverlayRenderer)==null?void 0:(p=Q.autoplay)==null?void 0:p.playerOverlayAutoplayRenderer},aOo=function(K){K.player.fJ("endscreen");
var X=K.player.getVideoData();X=new g.oR(Math.max((X.lengthSeconds-10)*1E3,0),0x8000000000000,{id:"preload",namespace:"endscreen"});var Q=new g.oR(0x8000000000000,0x8000000000000,{id:"load",priority:8,namespace:"endscreen"});K.player.P$([X,Q])},vY=function(K){b5.call(this,K,"watch-again-on-youtube-endscreen");
this.watchButton=new Fvl(K,1);g.k(this,this.watchButton);this.watchButton.Sp(this.element);g.Nv3(K)&&(this.C=new g.qi(K),g.k(this,this.C),this.j=new g.V({Z:"div",iq:["ytp-watch-again-on-youtube-endscreen-more-videos-container"],Y:{tabIndex:"-1"},U:[this.C]}),g.k(this,this.j),this.C.Sp(this.j.element),this.j.Sp(this.element));K.createClientVe(this.element,this,156914);this.hide()},ns=function(K){var X=K.B(),Q=X.T;
g.V.call(this,{Z:"a",G:"ytp-autonav-suggestion-card",Y:{href:"{{url}}",target:Q?X.kT:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},U:[{Z:"div",iq:["ytp-autonav-endscreen-upnext-thumbnail","ytp-autonav-thumbnail-small"],Y:{style:"{{background}}"},U:[{Z:"div",Y:{"aria-label":"{{timestamp}}"},iq:["ytp-autonav-timestamp"],qw:"{{duration}}"},{Z:"div",iq:["ytp-autonav-live-stamp"],qw:"Live"},{Z:"div",
iq:["ytp-autonav-upcoming-stamp"],qw:"Upcoming"},{Z:"div",G:"ytp-autonav-list-overlay",U:[{Z:"div",G:"ytp-autonav-mix-text",qw:"Mix"},{Z:"div",G:"ytp-autonav-mix-icon"}]}]},{Z:"div",iq:["ytp-autonav-endscreen-upnext-title","ytp-autonav-title-card"],qw:"{{title}}"},{Z:"div",iq:["ytp-autonav-endscreen-upnext-author","ytp-autonav-author-card"],qw:"{{author}}"},{Z:"div",iq:["ytp-autonav-endscreen-upnext-author","ytp-autonav-view-and-date-card"],qw:"{{views_and_publish_time}}"}]});this.D=K;this.suggestion=
null;this.C=Q;this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress)},Ea7=function(K){b5.call(this,K,"subscribecard-endscreen");
this.C=new g.V({Z:"div",G:"ytp-subscribe-card",U:[{Z:"img",G:"ytp-author-image",Y:{src:"{{profilePicture}}"}},{Z:"div",G:"ytp-subscribe-card-right",U:[{Z:"div",G:"ytp-author-name",qw:"{{author}}"},{Z:"div",G:"html5-subscribe-button-container"}]}]});g.k(this,this.C);this.C.Sp(this.element);var X=K.getVideoData();this.subscribeButton=new g.lc("Subscribe",null,"Unsubscribe",null,!0,!1,X.Ns,X.subscribed,"trailer-endscreen",null,K,!1);g.k(this,this.subscribeButton);this.subscribeButton.Sp(this.C.aW("html5-subscribe-button-container"));
this.X(K,"videodatachange",this.uq);this.uq();this.hide()},ai=function(K){b5.call(this,K,"autonav-endscreen");
this.overlay=this.videoData=null;this.table=new g.V({Z:"div",G:"ytp-suggestion-panel",U:[{Z:"div",iq:["ytp-autonav-endscreen-upnext-header","ytp-autonav-endscreen-more-videos"],qw:"More videos"}]});this.N=new g.V({Z:"div",G:"ytp-suggestions-container"});this.videos=[];this.J=null;this.S=this.L=!1;this.j=new SY(this.player);g.k(this,this.j);this.j.Sp(this.element);K.getVideoData().Ca?this.C=this.j:(this.C=new $v(K),g.Do(this.player,this.C.element,4),g.k(this,this.C));this.overlay=new g.V({Z:"div",
G:"ytp-autonav-overlay-cancelled-state"});g.k(this,this.overlay);this.overlay.Sp(this.element);this.T=new g.N3(this);g.k(this,this.T);g.k(this,this.table);this.table.Sp(this.element);this.table.show();g.k(this,this.N);this.N.Sp(this.table.element);this.hide()},V8n=function(K){b5.call(this,K,"videowall-endscreen");
var X=this;this.D=K;this.stills=[];this.J=this.videoData=null;this.T=this.L=!1;this.N=null;g.xu(this.element,"modern-videowall-endscreen");this.j=new g.N3(this);g.k(this,this.j);this.S=new g.Bh(function(){g.xu(X.element,"ytp-show-tiles")},0);
g.k(this,this.S);this.table=new g.j3({Z:"div",G:"ytp-modern-endscreen-content"});g.k(this,this.table);this.table.Sp(this.element);K.getVideoData().Ca?this.C=new SY(K,!0):this.C=new $v(K);g.k(this,this.C);g.Do(this.player,this.C.element,4);K.createClientVe(this.element,this,158789);this.hide()},M8m=function(K){g.cJ.call(this,K);
var X=this;this.endScreen=null;this.C=this.j=this.J=!1;this.listeners=new g.N3(this);g.k(this,this.listeners);var Q=K.B();K.isEmbedsShortsMode()?this.endScreen=new vY(K):Rbl(K)?(this.J=!0,CxJ(this),this.C?this.endScreen=new ai(K):Q.K("delhi_modern_endscreen")?this.endScreen=new V8n(K):this.endScreen=new NU(K)):Q.pj?this.endScreen=new Ea7(K):this.endScreen=new b5(K);g.k(this,this.endScreen);g.Do(K,this.endScreen.element,4);aOo(this);this.listeners.X(K,"videodatachange",this.onVideoDataChange,this);
this.listeners.X(K,g.G4("endscreen"),function(p){X.onCueRangeEnter(p)});
this.listeners.X(K,g.u1("endscreen"),function(p){X.onCueRangeExit(p)})},bUz=function(K){if(K.D.isFullscreen()){var X;
K=(X=K.D.getVideoData())==null?void 0:X.Qo;return K===-1||K===void 0?8E3:K}return K.D.PS()>=0?K.D.PS():g.Rn(K.D.B().experiments,"autoplay_time")||1E4},Son=function(K,X){X=X===void 0?-1:X;
K=K.C.aW("ytp-autonav-endscreen-upnext-header");g.Lo(K);if(X>=0){X=String(X);var Q="Up next in $SECONDS".match(RegExp("\\$SECONDS","gi"))[0],p="Up next in $SECONDS".indexOf(Q);if(p>=0){K.appendChild(g.vX("Up next in $SECONDS".slice(0,p)));var U=g.yx("span");g.Jd(U,"ytp-autonav-endscreen-upnext-header-countdown-number");g.BU(U,X);K.appendChild(U);K.appendChild(g.vX("Up next in $SECONDS".slice(p+Q.length)));return}}g.BU(K,"Up next")},OUe=function(K,X){if(X)return X;
if(K.api.isFullscreen()){var Q;K=(Q=K.api.getVideoData())==null?void 0:Q.Qo;return K===-1||K===void 0?8E3:K}return K.api.PS()>=0?K.api.PS():g.Rn(K.api.B().experiments,"autoplay_time")||1E4},DO3=function(K){K.publish("autonavvisibility")},CxJ=function(K){var X=K.player.getVideoData();
if(!X||K.C===X.BC&&K.j===X.Ca)return!1;K.C=X.BC;K.j=X.Ca;return!0},FP=function(K){var X=K.QP();
X!==K.S&&(K.S=X,DO3(K.player),K.S?(K.j!==K.C&&K.j.hide(),K.table.hide()):(K.j!==K.C&&K.j.show(),K.table.show()))},Eh=function(K){return g.Cb(K.player)&&K.wT()&&!K.T},Wvv=function(K,X){X=OUe(K,X);
var Q=Math,p=Q.min;var U=(0,g.Wh)()-K.j;Q=p.call(Q,U,X);X=X===0?1:Math.min(Q/X,1);K.S.setAttribute("stroke-dashoffset",""+-211*(X+1));X>=1&&K.c6()&&K.api.getPresentingPlayerType()!==3?K.select(!0):K.c6()&&K.C.start()},w89=function(K){return K.isBackground()&&K.Pw()},$v=function(K){g.V.call(this,{Z:"div",
iq:["ytp-upnext","ytp-player-content"],Y:{"aria-label":"{{aria_label}}"},U:[{Z:"div",G:"ytp-cued-thumbnail-overlay-image",Y:{style:"{{background}}"}},{Z:"span",G:"ytp-upnext-top",U:[{Z:"span",G:"ytp-upnext-header",qw:"Up Next"},{Z:"span",G:"ytp-upnext-title",qw:"{{title}}"},{Z:"span",G:"ytp-upnext-author",qw:"{{author}}"}]},{Z:"a",G:"ytp-upnext-autoplay-icon",Y:{role:"button",href:"{{url}}","aria-label":"Play next video"},U:[{Z:"svg",Y:{height:"100%",version:"1.1",viewBox:"0 0 72 72",width:"100%"},
U:[{Z:"circle",G:"ytp-svg-autoplay-circle",Y:{cx:"36",cy:"36",fill:"#fff","fill-opacity":"0.3",r:"31.5"}},{Z:"circle",G:"ytp-svg-autoplay-ring",Y:{cx:"-36",cy:"36","fill-opacity":"0",r:"33.5",stroke:"#FFFFFF","stroke-dasharray":"211","stroke-dashoffset":"-211","stroke-width":"4",transform:"rotate(-90)"}},{Z:"path",G:"ytp-svg-fill",Y:{d:"M 24,48 41,36 24,24 V 48 z M 44,24 v 24 h 4 V 24 h -4 z"}}]}]},{Z:"span",G:"ytp-upnext-bottom",U:[{Z:"span",G:"ytp-upnext-cancel"},{Z:"span",G:"ytp-upnext-paused",
qw:"Autoplay is paused"}]}]});this.api=K;this.cancelButton=null;this.S=this.aW("ytp-svg-autoplay-ring");this.J=this.notification=this.C=this.suggestion=null;this.T=new g.Bh(this.Ev,5E3,this);this.j=0;var X=this.aW("ytp-upnext-cancel");this.cancelButton=new g.V({Z:"button",iq:["ytp-upnext-cancel-button","ytp-button"],Y:{tabindex:"0","aria-label":"Cancel autoplay"},qw:"Cancel"});g.k(this,this.cancelButton);this.cancelButton.listen("click",this.p9,this);this.cancelButton.Sp(X);this.cancelButton&&this.api.createClientVe(this.cancelButton.element,
this,115129);g.k(this,this.T);this.api.createClientVe(this.element,this,18788);X=this.aW("ytp-upnext-autoplay-icon");this.X(X,"click",this.Jd);this.api.createClientVe(X,this,115130);this.Hi();this.X(K,"autonavvisibility",this.Hi);this.X(K,"mdxnowautoplaying",this.w$K);this.X(K,"mdxautoplaycanceled",this.qap);g.Yj(this.element,"ytp-upnext-mobile",this.api.B().j)},VR=function(K){var X=K.QP();
X!==K.L&&(K.L=X,DO3(K.player))},SY=function(K,X){X=X===void 0?!1:X;
g.V.call(this,{Z:"div",G:"ytp-autonav-endscreen-countdown-overlay"});var Q=this;this.L=X;this.cancelCommand=this.S=void 0;this.J=0;this.container=new g.V({Z:"div",G:"ytp-autonav-endscreen-countdown-container"});g.k(this,this.container);this.container.Sp(this.element);X=K.B();var p=X.T;this.D=K;this.suggestion=null;this.onVideoDataChange("newdata",this.D.getVideoData());this.X(K,"videodatachange",this.onVideoDataChange);this.C=new g.V({Z:"div",G:"ytp-autonav-endscreen-upnext-container",Y:{"aria-label":"{{aria_label}}",
"data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},U:[{Z:"div",G:"ytp-autonav-endscreen-upnext-header"},{Z:"div",G:"ytp-autonav-endscreen-upnext-alternative-header",qw:"{{autoplayAlternativeHeader}}"},{Z:"a",G:"ytp-autonav-endscreen-link-container",Y:{href:"{{url}}",target:p?X.kT:""},U:[{Z:"div",G:"ytp-autonav-endscreen-upnext-thumbnail",Y:{style:"{{background}}"},U:[{Z:"div",Y:{"aria-label":"{{timestamp}}"},iq:["ytp-autonav-timestamp"],
qw:"{{duration}}"},{Z:"div",iq:["ytp-autonav-live-stamp"],qw:"Live"},{Z:"div",iq:["ytp-autonav-upcoming-stamp"],qw:"Upcoming"}]},{Z:"div",G:"ytp-autonav-endscreen-video-info",U:[{Z:"div",G:"ytp-autonav-endscreen-premium-badge"},{Z:"div",G:"ytp-autonav-endscreen-upnext-title",qw:"{{title}}"},{Z:"div",G:"ytp-autonav-endscreen-upnext-author",qw:"{{author}}"},{Z:"div",G:"ytp-autonav-view-and-date",qw:"{{views_and_publish_time}}"},{Z:"div",G:"ytp-autonav-author-and-view",qw:"{{author_and_views}}"}]}]}]});
g.k(this,this.C);this.C.Sp(this.container.element);p||this.X(this.C.aW("ytp-autonav-endscreen-link-container"),"click",this.n2);this.D.createClientVe(this.container.element,this,115127);this.D.createClientVe(this.C.aW("ytp-autonav-endscreen-link-container"),this,115128);this.overlay=new g.V({Z:"div",G:"ytp-autonav-overlay"});g.k(this,this.overlay);this.overlay.Sp(this.container.element);this.j=new g.V({Z:"div",G:"ytp-autonav-endscreen-button-container"});g.k(this,this.j);this.j.Sp(this.container.element);
this.cancelButton=new g.V({Z:"button",iq:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-cancel-button","ytp-autonav-endscreen-upnext-button-rounded"],Y:{"aria-label":"Cancel autoplay"},qw:"Cancel"});g.k(this,this.cancelButton);this.cancelButton.Sp(this.j.element);this.cancelButton.listen("click",this.jj,this);this.D.createClientVe(this.cancelButton.element,this,115129);this.playButton=new g.V({Z:"a",iq:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-play-button",
"ytp-autonav-endscreen-upnext-button-rounded"],Y:{href:"{{url}}",role:"button","aria-label":"Play next video"},qw:"Play Now"});g.k(this,this.playButton);this.playButton.Sp(this.j.element);this.playButton.listen("click",this.n2,this);this.D.createServerVe(this.playButton.element,this.playButton,!0);(X=this.D.getVideoData())&&na2(this,X);this.T=new g.Bh(function(){$Ox(Q)},500);
g.k(this,this.T);this.qD();this.X(K,"autonavvisibility",this.qD);this.D.K("web_autonav_color_transition")&&(this.X(K,"autonavchange",this.HG),this.X(K,"onAutonavCoundownStarted",this.ZAy))},Rbl=function(K){K=K.B();
return K.pA&&!K.pj&&!K.disableOrganicUi},Ri=function(K){return g.Cb(K.player)&&K.wT()&&!K.J},Cs=function(K){var X=K.D.jX(!0,K.D.isFullscreen());
g.Yj(K.container.element,"ytp-autonav-endscreen-small-mode",K.xx(X));g.Yj(K.container.element,"ytp-autonav-endscreen-is-premium",!!K.suggestion&&!!K.suggestion.yj1);g.Yj(K.D.getRootNode(),"ytp-autonav-endscreen-cancelled-state",!K.D.QP());g.Yj(K.D.getRootNode(),"countdown-running",K.c6());g.Yj(K.container.element,"ytp-player-content",K.D.QP());g.JY(K.overlay.element,{width:X.width+"px"});if(!K.c6()){K.D.QP()?Son(K,Math.round(bUz(K)/1E3)):Son(K);X=!!K.suggestion&&!!K.suggestion.fH;var Q=K.D.QP()||
!X;g.Yj(K.container.element,"ytp-autonav-endscreen-upnext-alternative-header-only",!Q&&X);g.Yj(K.container.element,"ytp-autonav-endscreen-upnext-no-alternative-header",Q&&!X);K.j.Ec(K.D.QP());g.Yj(K.element,"ytp-enable-w2w-color-transitions",s7v(K))}},Fvl=function(K,X){g.V.call(this,{Z:"button",
iq:["ytp-watch-on-youtube-button","ytp-button"],qw:"{{content}}"});this.D=K;this.buttonType=this.buttonType=X;this.aG();this.buttonType===2&&g.xu(this.element,"ytp-continue-watching-button");this.listen("click",this.onClick);this.listen("videodatachange",this.aG);this.Ec(!0)},MU=function(K){var X=K.B(),Q=g.mZ||g.gC?{style:"will-change: opacity"}:void 0,p=X.T,U=["ytp-videowall-still"];
X.j&&U.push("ytp-videowall-show-text");g.V.call(this,{Z:"a",iq:U,Y:{href:"{{url}}",target:p?X.kT:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}"},U:[{Z:"div",G:"ytp-videowall-still-image",Y:{style:"{{background}}"}},{Z:"span",G:"ytp-videowall-still-info",Y:{"aria-hidden":"true"},U:[{Z:"span",G:"ytp-videowall-still-info-bg",U:[{Z:"span",G:"ytp-videowall-still-info-content",Y:Q,U:[{Z:"span",G:"ytp-videowall-still-info-title",qw:"{{title}}"},
{Z:"span",G:"ytp-videowall-still-info-author",qw:"{{author_and_views}}"},{Z:"span",G:"ytp-videowall-still-info-live",qw:"Live"},{Z:"span",G:"ytp-videowall-still-info-duration",qw:"{{duration}}"}]}]}]},{Z:"span",iq:["ytp-videowall-still-listlabel-regular","ytp-videowall-still-listlabel"],Y:{"aria-hidden":"true"},U:[{Z:"span",G:"ytp-videowall-still-listlabel-icon"},"Playlist",{Z:"span",G:"ytp-videowall-still-listlabel-length",U:[" (",{Z:"span",qw:"{{playlist_length}}"},")"]}]},{Z:"span",iq:["ytp-videowall-still-listlabel-mix",
"ytp-videowall-still-listlabel"],Y:{"aria-hidden":"true"},U:[{Z:"span",G:"ytp-videowall-still-listlabel-mix-icon"},"Mix",{Z:"span",G:"ytp-videowall-still-listlabel-length",qw:" (50+)"}]}]});this.suggestion=null;this.j=p;this.api=K;this.C=new g.N3(this);g.k(this,this.C);this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress);this.C.X(K,"videodatachange",this.onVideoDataChange);K.createServerVe(this.element,this);this.onVideoDataChange()},s7v=function(K){var X;
return!((X=K.D.getVideoData())==null||!X.watchToWatchTransitionRenderer)};
g.E6.prototype.PS=g.Sz(6,function(){return this.app.PS()});
g.aR.prototype.PS=g.Sz(5,function(){return this.getVideoData().HB});
g.an.prototype.Bz=g.Sz(4,function(K){this.Gd().Bz(K)});
g.MF.prototype.Bz=g.Sz(3,function(K){this.Jp!==K&&(this.Jp=K,this.Y9())});
g.e(ns,g.V);ns.prototype.select=function(){this.D.xb(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.vJ||void 0)&&this.D.logClick(this.element)};
ns.prototype.onClick=function(K){g.BE(K,this.D,this.C,this.suggestion.sessionData||void 0)&&this.select()};
ns.prototype.onKeyPress=function(K){switch(K.keyCode){case 13:case 32:K.defaultPrevented||(this.select(),K.preventDefault())}};g.e(SY,g.V);g.F=SY.prototype;g.F.PN=function(K){this.suggestion!==K&&(this.suggestion=K,g.z$(this.C,K),this.playButton.updateValue("url",this.suggestion.XD()),Cs(this))};
g.F.c6=function(){return this.J>0};
g.F.Th=function(){this.c6()||(this.J=Date.now(),$Ox(this),Nu9(this.D,bUz(this)),g.Yj(this.D.getRootNode(),"countdown-running",this.c6()))};
g.F.Zl=function(){this.W0();$Ox(this);var K=this.C.aW("ytp-autonav-endscreen-upnext-header");K&&g.BU(K,"Up next")};
g.F.W0=function(){this.c6()&&(this.T.stop(),this.J=0)};
g.F.select=function(K){this.D.nextVideo(!1,K===void 0?!1:K);this.W0()};
g.F.n2=function(K){g.BE(K,this.D)&&(K.currentTarget===this.playButton.element?this.D.logClick(this.playButton.element):K.currentTarget===this.C.aW("ytp-autonav-endscreen-link-container")&&(K=this.C.aW("ytp-autonav-endscreen-link-container"),this.D.logVisibility(K,!0),this.D.logClick(K)),this.S?(this.D.BP("innertubeCommand",this.S),this.W0()):this.select())};
g.F.jj=function(){this.D.logClick(this.cancelButton.element);g.s5(this.D,!0);this.cancelCommand&&this.D.BP("innertubeCommand",this.cancelCommand)};
g.F.onVideoDataChange=function(K,X){na2(this,X);K=X.getWatchNextResponse();var Q,p;K=(Q=vaj(K))==null?void 0:(p=Q.cancelButton)==null?void 0:p.buttonRenderer;this.cancelCommand=K==null?void 0:K.command};
g.F.ZAy=function(K){if(s7v(this)){var X=this.D.getVideoData().watchToWatchTransitionRenderer,Q=X==null?void 0:X.fromColorPaletteDark;X=X==null?void 0:X.toColorPaletteDark;if(Q&&X){var p=this.element;p.style.setProperty("--w2w-start-background-color",g.Be(Q.surgeColor));p.style.setProperty("--w2w-start-primary-text-color",g.Be(Q.primaryTitleColor));p.style.setProperty("--w2w-start-secondary-text-color",g.Be(Q.secondaryTitleColor));p.style.setProperty("--w2w-end-background-color",g.Be(X.surgeColor));
p.style.setProperty("--w2w-end-primary-text-color",g.Be(X.primaryTitleColor));p.style.setProperty("--w2w-end-secondary-text-color",g.Be(X.secondaryTitleColor));p.style.setProperty("--w2w-animation-duration",K+"ms")}g.Yj(this.element,"ytp-w2w-animate",!0)}};
g.F.HG=function(K){this.D.K("web_autonav_color_transition")&&K!==2&&g.Yj(this.element,"ytp-w2w-animate",!1)};
g.F.qD=function(){var K=this.D.QP();this.L&&this.a$!==K&&this.Ec(K);Cs(this);this.D.logVisibility(this.container.element,K);this.D.logVisibility(this.cancelButton.element,K);this.D.logVisibility(this.C.aW("ytp-autonav-endscreen-link-container"),K);this.D.logVisibility(this.playButton.element,K)};
g.F.xx=function(K){return K.width<400||K.height<459};g.e(b5,g.V);g.F=b5.prototype;g.F.create=function(){this.created=!0};
g.F.destroy=function(){this.created=!1};
g.F.wT=function(){return!1};
g.F.QP=function(){return!1};
g.F.Fc=function(){return!1};g.e($v,g.V);g.F=$v.prototype;g.F.Ev=function(){this.notification&&(this.T.stop(),this.h_(this.J),this.J=null,this.notification.close(),this.notification=null)};
g.F.PN=function(K){this.suggestion=K;g.z$(this,K,"hqdefault.jpg")};
g.F.Hi=function(){this.Ec(this.api.QP());this.api.logVisibility(this.element,this.api.QP());this.api.logVisibility(this.aW("ytp-upnext-autoplay-icon"),this.api.QP());this.cancelButton&&this.api.logVisibility(this.cancelButton.element,this.api.QP())};
g.F.J2J=function(){window.focus();this.Ev()};
g.F.Th=function(K){var X=this;this.c6()||(g.Xa("a11y-announce","Up Next "+this.suggestion.title),this.j=(0,g.Wh)(),this.C=new g.Bh(function(){Wvv(X,K)},25),Wvv(this,K),Nu9(this.api,OUe(this,K)));
g.Fi(this.element,"ytp-upnext-autoplay-paused")};
g.F.hide=function(){g.V.prototype.hide.call(this)};
g.F.c6=function(){return!!this.C};
g.F.Zl=function(){this.W0();this.j=(0,g.Wh)();Wvv(this);g.xu(this.element,"ytp-upnext-autoplay-paused")};
g.F.W0=function(){this.c6()&&(this.C.dispose(),this.C=null)};
g.F.select=function(K){K=K===void 0?!1:K;if(this.api.B().K("autonav_notifications")&&K&&window.Notification&&typeof document.hasFocus==="function"){var X=Notification.permission;X==="default"?Notification.requestPermission():X!=="granted"||document.hasFocus()||(this.Ev(),this.notification=new Notification("Up Next",{body:this.suggestion.title,icon:this.suggestion.gY()}),this.J=this.X(this.notification,"click",this.J2J),this.T.start())}this.W0();this.api.nextVideo(!1,K)};
g.F.Jd=function(K){!g.k0(this.cancelButton.element,K.target)&&g.BE(K,this.api)&&(this.api.QP()&&this.api.logClick(this.aW("ytp-upnext-autoplay-icon")),this.select())};
g.F.p9=function(){this.api.QP()&&this.cancelButton&&this.api.logClick(this.cancelButton.element);g.s5(this.api,!0)};
g.F.w$K=function(K){this.api.getPresentingPlayerType();this.show();this.Th(K)};
g.F.qap=function(){this.api.getPresentingPlayerType();this.W0();this.hide()};
g.F.sJ=function(){this.W0();this.Ev();g.V.prototype.sJ.call(this)};g.e(ai,b5);g.F=ai.prototype;g.F.create=function(){b5.prototype.create.call(this);this.T.X(this.player,"appresize",this.xk);this.T.X(this.player,"onVideoAreaChange",this.xk);this.T.X(this.player,"videodatachange",this.onVideoDataChange);this.T.X(this.player,"autonavchange",this.jA);this.T.X(this.player,"onAutonavCancelled",this.TY);this.onVideoDataChange()};
g.F.show=function(){b5.prototype.show.call(this);(this.L||this.J&&this.J!==this.videoData.clientPlaybackNonce)&&g.s5(this.player,!1);g.Cb(this.player)&&this.wT()&&!this.J?(FP(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3||w89(this.player.nE())&&this.player.K("web_player_pip_logging_fix")?this.C.select(!0):this.C.Th():this.videoData.autonavState===3&&this.C.Zl()):(g.s5(this.player,!0),FP(this));this.xk()};
g.F.hide=function(){b5.prototype.hide.call(this);this.C.Zl();FP(this)};
g.F.xk=function(){var K=this.player.jX(!0,this.player.isFullscreen());FP(this);Cs(this.j);g.Yj(this.element,"ytp-autonav-cancelled-small-mode",this.xx(K));g.Yj(this.element,"ytp-autonav-cancelled-tiny-mode",this.Ay(K));g.Yj(this.element,"ytp-autonav-cancelled-mini-mode",K.width<=400||K.height<=360);this.overlay&&g.JY(this.overlay.element,{width:K.width+"px"});if(!this.S)for(K=0;K<this.videos.length;K++)g.Yj(this.videos[K].element,"ytp-suggestion-card-with-margin",K%2===1)};
g.F.onVideoDataChange=function(){var K=this.player.getVideoData();if(this.videoData!==K&&K){this.videoData=K;K=this.videoData.suggestions;var X=g.BV(this.videoData);X&&(this.C.PN(X),this.C!==this.j&&this.j.PN(X));if(K&&K.length)for(X=0;X<zbv.length;++X){var Q=zbv[X];if(K&&K[Q]){this.videos[X]=new ns(this.player);var p=this.videos[X];Q=K[Q];p.suggestion!==Q&&(p.suggestion=Q,g.z$(p,Q));g.k(this,this.videos[X]);this.videos[X].Sp(this.N.element)}}this.xk()}};
g.F.jA=function(K){K===1?(this.L=!1,this.J=this.videoData.clientPlaybackNonce,this.C.W0(),this.a$&&this.xk()):(this.L=!0,this.QP()&&(K===2?this.C.Th():K===3&&this.C.Zl()))};
g.F.TY=function(K){K?this.jA(1):(this.J=null,this.L=!1)};
g.F.wT=function(){return this.videoData.autonavState!==1};
g.F.xx=function(K){return(K.width<910||K.height<459)&&!this.Ay(K)&&!(K.width<=400||K.height<=360)};
g.F.Ay=function(K){return K.width<800&&!(K.width<=400||K.height<=360)};
g.F.QP=function(){return this.a$&&g.Cb(this.player)&&this.wT()&&!this.J};
var zbv=[1,3,2,4];g.e(V8n,b5);g.F=V8n.prototype;g.F.create=function(){b5.prototype.create.call(this);var K=this.player.getVideoData();K&&(this.videoData=K);this.WI();this.j.X(this.player,"appresize",this.WI);this.j.X(this.player,"onVideoAreaChange",this.WI);this.j.X(this.player,"videodatachange",this.onVideoDataChange);this.j.X(this.player,"autonavchange",this.Dc);this.j.X(this.player,"onAutonavCancelled",this.f9);K=this.videoData.autonavState;K!==this.N&&this.Dc(K);this.j.X(this.element,"transitionend",this.Z1)};
g.F.destroy=function(){g.Yw(this.j);g.vI(this.stills);this.stills=[];b5.prototype.destroy.call(this);g.Fi(this.element,"ytp-show-tiles");this.S.stop();this.N=this.videoData.autonavState};
g.F.wT=function(){return this.videoData.autonavState!==1};
g.F.show=function(){var K=this.a$;b5.prototype.show.call(this);g.Fi(this.element,"ytp-show-tiles");this.player.B().j?g.VW(this.S):this.S.start();(this.T||this.J&&this.J!==this.videoData.clientPlaybackNonce)&&g.s5(this.player,!1);Ri(this)?(VR(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3||w89(this.player.nE())&&this.player.K("web_player_pip_logging_fix")?this.C.select(!0):this.C.Th():this.videoData.autonavState===3&&this.C.Zl()):(g.s5(this.player,!0),VR(this));K!==this.a$&&
this.player.logVisibility(this.element,!0)};
g.F.hide=function(){var K=this.a$;b5.prototype.hide.call(this);this.C.Zl();VR(this);K!==this.a$&&this.player.logVisibility(this.element,!1)};
g.F.Z1=function(K){K.target===this.element&&this.WI()};
g.F.WI=function(){var K,X,Q,p;var U=((K=this.videoData)==null?0:(X=K.suggestions)==null?0:X.length)?(Q=this.videoData)==null?void 0:Q.suggestions:[(p=this.videoData)==null?void 0:g.BV(p)];if(U.length){X=this.D.jX(!0,this.D.isFullscreen());K=Math.floor((X.width-64+16)/(g.YS(X.width*.27,250,450)+16));X=Math.min(3,Math.floor((X.height-64)/((X.width-64-(K-1)*16)/K*.5625+70)));g.ED(this.element,["ytp-modern-endscreen-limit-rows-1","ytp-modern-endscreen-limit-rows-2","ytp-modern-endscreen-limit-rows-3"]);
g.xu(this.element,"ytp-modern-endscreen-limit-rows-"+X);g.Yj(this.element,"ytp-modern-endscreen-single-item",K===1);g.Yj(this.element,"ytp-modern-endscreen-row-0",X===0);K=this.table.element;K.ariaLive="polite";this.C.PN(g.BV(this.videoData));this.C instanceof SY&&Cs(this.C);g.Yj(this.element,"ytp-endscreen-takeover",Ri(this));VR(this);X=0;K.ariaBusy="true";Q=U.length;for(p=0;p<Q;p++){var I=p%Q,d=this.stills[p];d||(d=new g.M6(this.player),this.stills[p]=d,K.appendChild(d.element));g.GvQ(d,U[I]);X++}this.stills.length=
X}};
g.F.onVideoDataChange=function(){var K=this.player.getVideoData(1);this.videoData!==K&&(K!=null&&g.BV(K)?(this.videoData=K,this.WI()):this.player.Q1("missg",{vid:(K==null?void 0:K.videoId)||"",cpn:(K==null?void 0:K.clientPlaybackNonce)||""}))};
g.F.Fc=function(){return this.C.c6()};
g.F.Dc=function(K){K===1?(this.T=!1,this.J=this.videoData.clientPlaybackNonce,this.C.W0(),this.a$&&this.WI()):(this.T=!0,this.a$&&Ri(this)&&(K===2?this.C.Th():K===3&&this.C.Zl()))};
g.F.f9=function(K){if(K){for(K=0;K<this.stills.length;K++)this.D.logVisibility(this.stills[K].element,!0);this.Dc(1)}else this.J=null,this.T=!1;this.WI()};
g.F.QP=function(){return this.a$&&Ri(this)};g.e(Ea7,b5);Ea7.prototype.uq=function(){var K=this.player.getVideoData();this.C.update({profilePicture:K.profilePicture,author:K.author});this.subscribeButton.channelId=K.Ns;var X=this.subscribeButton;K.subscribed?X.C():X.j()};g.e(MU,g.V);MU.prototype.select=function(){this.api.xb(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.vJ||void 0)&&this.api.logClick(this.element)};
MU.prototype.onClick=function(K){if(g.R8(this.api.B())&&this.api.K("web_player_log_click_before_generating_ve_conversion_params")){this.api.logClick(this.element);var X=this.suggestion.XD(),Q={};g.gd(this.api,Q);X=g.rd(X,Q);g.tF(X,this.api,K)}else g.BE(K,this.api,this.j,this.suggestion.sessionData||void 0)&&this.select()};
MU.prototype.onKeyPress=function(K){switch(K.keyCode){case 13:case 32:K.defaultPrevented||(this.select(),K.preventDefault())}};
MU.prototype.onVideoDataChange=function(){var K=this.api.getVideoData(),X=this.api.B();this.j=K.Uk?!1:X.T};g.e(NU,b5);g.F=NU.prototype;g.F.create=function(){b5.prototype.create.call(this);var K=this.player.getVideoData();K&&(this.videoData=K);this.M$();this.j.X(this.player,"appresize",this.M$);this.j.X(this.player,"onVideoAreaChange",this.M$);this.j.X(this.player,"videodatachange",this.onVideoDataChange);this.j.X(this.player,"autonavchange",this.i5);this.j.X(this.player,"onAutonavCancelled",this.Sj);K=this.videoData.autonavState;K!==this.W&&this.i5(K);this.j.X(this.element,"transitionend",this.i7)};
g.F.destroy=function(){g.Yw(this.j);g.vI(this.stills);this.stills=[];b5.prototype.destroy.call(this);g.Fi(this.element,"ytp-show-tiles");this.L.stop();this.W=this.videoData.autonavState};
g.F.wT=function(){return this.videoData.autonavState!==1};
g.F.show=function(){var K=this.a$;b5.prototype.show.call(this);g.Fi(this.element,"ytp-show-tiles");this.player.B().j?g.VW(this.L):this.L.start();(this.S||this.T&&this.T!==this.videoData.clientPlaybackNonce)&&g.s5(this.player,!1);Eh(this)?(D9(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3||w89(this.player.nE())&&this.player.K("web_player_pip_logging_fix")?this.C.select(!0):this.C.Th():this.videoData.autonavState===3&&this.C.Zl()):(g.s5(this.player,!0),D9(this));K!==this.a$&&
this.player.logVisibility(this.element,!0)};
g.F.hide=function(){var K=this.a$;b5.prototype.hide.call(this);this.C.Zl();D9(this);K!==this.a$&&this.player.logVisibility(this.element,!1)};
g.F.i7=function(K){K.target===this.element&&this.M$()};
g.F.M$=function(){var K,X,Q,p;var U=((K=this.videoData)==null?0:(X=K.suggestions)==null?0:X.length)?(Q=this.videoData)==null?void 0:Q.suggestions:[(p=this.videoData)==null?void 0:g.BV(p)];if(U.length){g.xu(this.element,"ytp-endscreen-paginate");var I=this.D.jX(!0,this.D.isFullscreen());if(K=g.$G(this.D))K=K.Cj()?48:32,I.width-=K*2;var d=I.width/I.height;p=96/54;X=K=2;var L=Math.max(I.width/96,2),b=Math.max(I.height/54,2);Q=U.length;var S=Q*4;for(S-=4;S>0&&(K<L||X<b);){var N=K/2,D=X/2,v=K<=L-2&&S>=
D*4,n=X<=b-2&&S>=N*4;if((N+1)/D*p/d>d/(N/(D+1)*p)&&n)S-=N*4,X+=2;else if(v)S-=D*4,K+=2;else if(n)S-=N*4,X+=2;else break}p=!1;S>=12&&Q*4-S<=6&&(X>=4||K>=4)&&(p=!0);S=K*96;L=X*54;d=S/L<d?I.height/L:I.width/S;d=Math.min(d,2);S=Math.floor(Math.min(I.width,S*d));L=Math.floor(Math.min(I.height,L*d));I=this.table.element;I.ariaLive="polite";g.u8(I,S,L);g.JY(I,{marginLeft:S/-2+"px",marginTop:L/-2+"px"});this.C.PN(g.BV(this.videoData));this.C instanceof SY&&Cs(this.C);g.Yj(this.element,"ytp-endscreen-takeover",
Eh(this));D9(this);S+=4;L+=4;d=0;I.ariaBusy="true";for(b=0;b<K;b++)for(N=0;N<X;N++)if(D=d,n=0,p&&b>=K-2&&N>=X-2?n=1:N%2===0&&b%2===0&&(N<2&&b<2?N===0&&b===0&&(n=2):n=2),D=g.p$(D+this.J,Q),n!==0){v=this.stills[d];v||(v=new MU(this.player),this.stills[d]=v,I.appendChild(v.element));var a=Math.floor(L*N/X),R=Math.floor(S*b/K),O=Math.floor(L*(N+n)/X)-a-4,A=Math.floor(S*(b+n)/K)-R-4;g.HF(v.element,R,a);g.u8(v.element,A,O);g.JY(v.element,"transitionDelay",(N+b)/20+"s");g.Yj(v.element,"ytp-videowall-still-mini",
n===1);g.Yj(v.element,"ytp-videowall-still-large",n>2);n=Math.max(A,O);g.Yj(v.element,"ytp-videowall-still-round-large",n>=256);g.Yj(v.element,"ytp-videowall-still-round-medium",n>96&&n<256);g.Yj(v.element,"ytp-videowall-still-round-small",n<=96);D=U[D];v.suggestion!==D&&(v.suggestion=D,n=v.api.B(),a=g.iY(v.element,"ytp-videowall-still-large")?"hqdefault.jpg":"mqdefault.jpg",g.z$(v,D,a),g.R8(n)&&!v.api.K("web_player_log_click_before_generating_ve_conversion_params")&&(n=D.XD(),a={},g.Ad(v.api,"addEmbedsConversionTrackingParams",
[a]),n=g.rd(n,a),v.updateValue("url",n)),(D=(D=D.sessionData)&&D.itct)&&v.api.setTrackingParams(v.element,D));d++}I.ariaBusy="false";g.Yj(this.element,"ytp-endscreen-paginate",d<Q);for(U=this.stills.length-1;U>=d;U--)K=this.stills[U],g.tO(K.element),g.fb(K);this.stills.length=d}};
g.F.onVideoDataChange=function(){var K=this.player.getVideoData(1);this.videoData!==K&&(K!=null&&g.BV(K)?(this.J=0,this.videoData=K,this.M$()):this.player.Q1("missg",{vid:(K==null?void 0:K.videoId)||"",cpn:(K==null?void 0:K.clientPlaybackNonce)||""}))};
g.F.g3=function(){this.J+=this.stills.length;this.M$()};
g.F.D1=function(){this.J-=this.stills.length;this.M$()};
g.F.Fc=function(){return this.C.c6()};
g.F.i5=function(K){K===1?(this.S=!1,this.T=this.videoData.clientPlaybackNonce,this.C.W0(),this.a$&&this.M$()):(this.S=!0,this.a$&&Eh(this)&&(K===2?this.C.Th():K===3&&this.C.Zl()))};
g.F.Sj=function(K){if(K){for(K=0;K<this.stills.length;K++)this.D.logVisibility(this.stills[K].element,!0);this.i5(1)}else this.T=null,this.S=!1;this.M$()};
g.F.QP=function(){return this.a$&&Eh(this)};g.e(Fvl,g.V);g.F=Fvl.prototype;g.F.aG=function(){switch(this.buttonType){case 1:var K="Watch again on YouTube";var X=156915;break;case 2:K="Continue watching on YouTube";X=156942;break;default:K="Continue watching on YouTube",X=156942}this.update({content:K});this.D.hasVe(this.element)&&this.D.destroyVe(this.element);this.D.createClientVe(this.element,this,X)};
g.F.onClick=function(K){this.D.K("web_player_log_click_before_generating_ve_conversion_params")&&this.D.logClick(this.element);g.tF(this.getVideoUrl(),this.D,K);this.D.K("web_player_log_click_before_generating_ve_conversion_params")||this.D.logClick(this.element)};
g.F.getVideoUrl=function(){var K=!0;switch(this.buttonType){case 1:K=!0;break;case 2:K=!1}K=this.D.getVideoUrl(K,!1,!1,!0);var X=this.D.B();if(g.R8(X)){var Q={};g.R8(X)&&g.Ad(this.D,"addEmbedsConversionTrackingParams",[Q]);K=g.rd(K,Q)}return K};
g.F.logVisibility=function(){this.D.logVisibility(this.element,this.a$&&this.kT)};
g.F.show=function(){g.V.prototype.show.call(this);this.logVisibility()};
g.F.hide=function(){g.V.prototype.hide.call(this);this.logVisibility()};
g.F.qQ=function(K){g.V.prototype.qQ.call(this,K);this.logVisibility()};g.e(vY,b5);vY.prototype.hasSuggestions=function(){var K;return(K=this.C)==null?void 0:K.hasSuggestions()};
vY.prototype.show=function(){if(this.player.getPlayerState()!==3){b5.prototype.show.call(this);var K=this.j;if(K){var X=this.C.hasSuggestions();g.Yj(this.element,"ytp-shorts-branded-ui",X);X?K.show():K.hide()}var Q;(Q=g.$G(this.player))==null||Q.Bz(!0);this.player.logVisibility(this.element,!0);this.watchButton.qQ(!0)}};
vY.prototype.hide=function(){b5.prototype.hide.call(this);var K;(K=g.$G(this.player))==null||K.Bz(!1);this.player.logVisibility(this.element,!1);this.watchButton.qQ(!1)};g.e(M8m,g.cJ);g.F=M8m.prototype;g.F.tV=function(){var K=this.player.getVideoData(),X=K.mutedAutoplay&&(K.limitedPlaybackDurationInSeconds>0||K.endSeconds>0||K.mutedAutoplayDurationMode!==2);if(this.player.isEmbedsShortsMode()&&!X)return!0;var Q;var p=!!((K==null?0:g.BV(K))||(K==null?0:(Q=K.suggestions)==null?0:Q.length));p=!Rbl(this.player)||p;K=K.ow;Q=this.player.JC();return p&&!K&&!Q&&!X};
g.F.QP=function(){return this.endScreen.QP()};
g.F.UwK=function(){return this.QP()?this.endScreen.Fc():!1};
g.F.sJ=function(){this.player.fJ("endscreen");g.cJ.prototype.sJ.call(this)};
g.F.load=function(){var K=this.player.getVideoData();var X=K.transitionEndpointAtEndOfStream;if(X&&X.videoId){var Q=this.player.FV().qZ.get("heartbeat"),p=g.BV(K);!p||X.videoId!==p.videoId||K.nM?(this.player.xb(X.videoId,void 0,void 0,!0,!0,X),Q&&Q.XU("HEARTBEAT_ACTION_TRIGGER_AT_STREAM_END","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT"),K=!0):K=!1}else K=!1;K||(g.cJ.prototype.load.call(this),this.endScreen.show())};
g.F.unload=function(){g.cJ.prototype.unload.call(this);this.endScreen.hide();this.endScreen.destroy()};
g.F.onCueRangeEnter=function(K){this.tV()&&(this.endScreen.created||this.endScreen.create(),K.getId()==="load"&&this.load())};
g.F.onCueRangeExit=function(K){K.getId()==="load"&&this.loaded&&this.unload()};
g.F.onVideoDataChange=function(){aOo(this);this.J&&CxJ(this)&&(this.endScreen&&(this.endScreen.hide(),this.endScreen.created&&this.endScreen.destroy(),this.endScreen.dispose()),this.C?this.endScreen=new ai(this.player):this.endScreen=new NU(this.player),g.k(this,this.endScreen),g.Do(this.player,this.endScreen.element,4))};g.Nq("endscreen",M8m);})(_yt_player);
